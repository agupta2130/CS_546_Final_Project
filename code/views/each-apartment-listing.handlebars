<body>
  {{#each eachApartmentListing}}
    <header>
      <div
        id="carouselExampleCaptions"
        class="carousel carousel-dark slide carousel-fade"
        data-bs-ride="carousel"
      >
        <div class="carousel-indicators">
          <button
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide-to="0"
            class="active"
            aria-current="true"
            aria-label="Slide 1"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide-to="1"
            aria-label="Slide 2"
          ></button>

        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img
              src="https://img.onmanorama.com/content/dam/mm/en/lifestyle/decor/images/2019/2/27/kaloor-flat-01.jpg"
              alt="..."
              style="width:1220px;height:360px"
            />
            {{! <div class="carousel-caption img_1 d-md-block ">
                  <h5>First slide label</h5>
                  <p>Some representative placeholder content for the first slide.</p>
                </div> }}
          </div>
          <div class="carousel-item">
            <img
              src="https://cdn.homedit.com/wp-content/uploads/2012/05/62-square-meters-apartment-3.jpg"
              alt="..."
              style="width: 1220px;height:360px"
            />
            {{! <div class="carousel-caption img_2 d-md-block">
                  <h5 class="img_2_text">Second slide label</h5>
                  <p  class="img_2_text">Some representative placeholder content for the second slide.</p>
                </div> }}
          </div>

        </div>
      </div>

    </header>

    <section class="my-5" id="nav_about_us">
      <div>
        <h4 class="display-6 text-center">Details</h4>
        <hr class="w-25 mx-auto" />
        <div class="container">
          <div class="row my-5">
            <div class="col col-xl-6 col-md-6 col-12">

              <figure>
                <img
                  style="max-height: 280px; width: 100%;"
                  class="img-fluid rounded-3 mx-auto d-block"
                  src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRW44P24uZ4-GyJXYFfAiJcijO-HCgY3l9WQA&usqp=CAU"
                  alt=""
                />
              </figure>

            </div>
            <div
              class="col col-xl-6 col-md-6 col-12 d-flex justify-content-center align-items-center flex-column about_us_text"
            >
              {{! <h5 class="display-6 ">Apartment Details</h2> }}

              <div class="apartment-address"><h2>{{this.address}}</h2></div>
              <div class="apartment-address"><h4>{{this.city}},
                  {{this.state}},
                  {{this.zipcode}}
                </h4></div>
              <div class="apartment-address">Monthly Rent: ${{this.rent}}</div>
              <div class="apartment-address">Size of the apartment:
                {{this.size}}
                square foot</div>
              <div class="apartment-address">Occupant capacity:
                {{this.occupantCapacity}}
                members</div>
              <div class="apartment-address">email: {{this.useremail}}</div>
              {{!--  <div class = "reviews"> <a href="/reviews/{{this._id}}" class="click">write a review</a> </div>   --}}
              <br />
              <a
                href="/reviews/{{this._id}}"
                class="btn btn-warning display-6 rounded-pill"
              >write a review</a>
              {{isDelete}}

              {{#if ../isDelete}}
                <button
                  class="btn btn-warning display-6 rounded-pill"
                  onclick="deleteApartment('{{this._id}}')"
                >delete</button>
              {{/if}}
              {{!--  {{#each reviews}}
                    <p>Rating: {{this.rating}}, Desciption: {{this.description}}</p>
                   {{/each}}   --}}
            </div>
          </div>

        </div>
      </div>
    </section>

    <section class="mt-5 bg-dark pb-5">
      <div>
        <h4 class="display-6 text-center text-warning pt-3">Reviews</h4>
        <hr class="w-25 mx-auto text-warning" />
        <div class="container">

          <div class="card-group">

            <div class="card mx-2 border-0 rounded-3">
              {{! <img src="https://images.unsplash.com/photo-1637070155805-e6fbee6ec2cf?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&h=450&q=80" class="card-img-top" alt="..."> }}
              {{#each reviews}}
                <div class="card-body">
                  <h5 class="card-title">Rating: {{this.rating}}</h5>
                  <p class="card-text">Desciption: {{this.description}}</p>
                  <p class="card-text"><small
                      class="text-muted"
                    >{{this.name}}</small></p>
                  {{!  <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p> }}
                </div>
                {{!  <div class="card-footer text-center">
                        <a href="#" class="btn btn-warning display-6 rounded-pill">Know More</a>
                      </div> }}
              {{/each}}
            </div>

            {{! <div class="card mx-2 border-0 rounded-3" >
                      <img src="https://images.unsplash.com/photo-1637070155805-e6fbee6ec2cf?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&h=450&q=80" class="card-img-top" alt="...">
                      <div class="card-body">
                        <h5 class="card-title">Card title</h5>
                        <p class="card-text">This card has supporting text below as a natural lead-in to additional content.</p>
                        <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                      </div>
                      <div class="card-footer text-center">
                        <a href="#" class="btn btn-warning display-6 rounded-pill">Know More</a>
                      </div>
                    </div> }}
            {{!    <div class="card mx-2 border-0 rounded-3">
                      <img src="https://images.unsplash.com/photo-1637070155805-e6fbee6ec2cf?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&h=450&q=80" class="card-img-top" alt="...">
                      <div class="card-body">
                        <h5 class="card-title">Card title</h5>
                        <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.</p>
                        <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                      </div>
                      <div class="card-footer text-center">
                        <a href="#" class="btn btn-warning display-6 rounded-pill">Know More</a>
                      </div>
                    </div> }}

          </div>

        </div>
      </div>

    </section>

    {{!     <section class="mt-2 bg-light mb-5 pb-4" id="nav_contact">
                <div>
                    <h4 class="display-6 text-center  ">Contact</h4>
                    <hr class="w-25 mx-auto ">
                    </div>

                    <div class="container">

                        <form class="row g-3 text-center ">
                            <div class="col-md-12">
                              <label for="inputEmail4" class="form-label">Name</label>
                              <input type="text" class="form-control" id="inputEmail4">
                            </div>
                        
                            <div class="col-12">
                              <label for="inputAddress" class="form-label">Address</label>
                              <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
                            </div>
                            <div class="col-12">
                              <label for="inputAddress2" class="form-label">Address 2</label>
                              <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
                            </div>
                            <div class="col-md-6">
                              <label for="inputCity" class="form-label">City</label>
                              <input type="text" class="form-control" id="inputCity">
                            </div>
                            <div class="col-md-4">
                              <label for="inputState" class="form-label">State</label>
                              <select id="inputState" class="form-select">
                                <option selected>Choose...</option>
                                <option>...</option>
                              </select>
                            </div>
                            <div class="col-md-2">
                              <label for="inputZip" class="form-label">Zip</label>
                              <input type="text" class="form-control" id="inputZip">
                            </div>
                            
                            <div class="col-12">
                              <button type="submit" class="btn btn-primary rounded-pill display-6">Submit</button>
                            </div>
                          </form>

                    </div>
                    </section> }}

    {{!   <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <script>
        function hidenav(){
            
            var element = document.getElementById("navbarSupportedContent")
            element.classList.remove("show");
        }
    </script> }}
  {{/each}}
  <script>
    async function deleteApartment(id) { await fetch(`/apartment/${id}`, {
    method: 'DELETE', headers: { "Content-Type": "application/json", }} )
    window.location.href= '/apartment' }
  </script>
</body>